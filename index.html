<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>21 Days of You</title>

<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
:root{--cursor-color:#ff5fa2}

body{
  margin:0;
  font-family:'Caveat',cursive;
  background:radial-gradient(circle at top,#ffd6e8,#ffeef6);
  overflow-x:hidden;
  color:#5a2a3c;
}

h1,h2{text-align:center;padding:20px}

/* GRID */
.grid{
  display:grid;
  gap:22px;
  padding:26px;
  grid-template-columns:repeat(2,1fr);
  position:relative;
  z-index:2;
}
@media(min-width:900px){
  .grid{
    grid-template-columns:repeat(3,1fr);
    max-width:1400px;
    margin:auto;
  }
}

/* CARD */
.card{
  perspective:1400px;
  position:relative;
}
.inner{
  position:relative;
  width:100%;
  aspect-ratio:3/4.4;
  transform-style:preserve-3d;
  transition:transform .9s cubic-bezier(.4,.2,.2,1);
}
.card.flip .inner{transform:rotateY(180deg)}

.front,.back{
  position:absolute;
  inset:0;
  border-radius:26px;
  overflow:hidden;
  backface-visibility:hidden;
}

.front img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.back{
  background:#fff0f6;
  transform:rotateY(180deg);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:22px;
  text-align:center;
  line-height:1.5;
  font-size:24px;
}

/* ‚úçÔ∏è typing heart cursor */
.typing::after{
  content:'üíñ';
  margin-left:6px;
  animation:blink 1s infinite;
  color:var(--cursor-color);
}
@keyframes blink{50%{opacity:0}}

/* üîí HARD LOCK */
.locked .front img{
  filter:blur(40px) brightness(0);
}
.locked::after{
  content:'';
  position:absolute;
  inset:0;
  background:#000;
  border-radius:26px;
  z-index:2;
}

/* lock icon */
.lock{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:2.4rem;
  z-index:3;
  color:#fff;
}

/* üö´ shake on locked tap */
.shake{
  animation:shake .45s;
}
@keyframes shake{
  20%{transform:translateX(-6px)}
  40%{transform:translateX(6px)}
  60%{transform:translateX(-4px)}
  80%{transform:translateX(4px)}
}

/* üåë fade unlock */
.card.unlocking::after{
  animation:fadeOutBlack 1.2s ease forwards;
}
@keyframes fadeOutBlack{
  from{opacity:1}
  to{opacity:0}
}

/* ‚ú® unlock zoom glow */
.card.unlocking{
  animation:unlockZoom .9s ease;
}
@keyframes unlockZoom{
  50%{
    transform:scale(1.08);
    box-shadow:0 0 45px rgba(255,105,180,.9);
  }
}

/* üé¨ DAY 21 FULLSCREEN */
.fullscreen{
  position:fixed!important;
  inset:0;
  z-index:999;
  background:#000;
  padding:20px;
}
.fullscreen .inner{
  max-width:520px;
  margin:auto;
}

/* ‚ù§Ô∏è hearts */
.heart-shower{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:0;
}
.heart{
  position:absolute;
  width:18px;
  height:18px;
  background:#ff5fa2;
  transform:rotate(45deg);
  opacity:.35;
  animation:fall linear infinite;
}
.heart::before,.heart::after{
  content:'';
  position:absolute;
  width:18px;
  height:18px;
  background:#ff5fa2;
  border-radius:50%;
}
.heart::before{top:-9px}
.heart::after{left:-9px}

@keyframes fall{
  from{transform:translate(calc(-20vw + 140vw * var(--x)),-20vh) rotate(45deg)}
  to{transform:translate(calc(-20vw + 140vw * var(--x)),130vh) rotate(45deg)}
}
</style>
</head>

<body>

<div class="heart-shower"></div>

<h1>üíù HAPPY BIRTHDAY MI AMOR üíù</h1>
<h2>‚ù§Ô∏è 21 Days ¬∑ 21 Memories ‚ù§Ô∏è</h2>

<div class="grid"></div>

<script>
const today = new Date().getDate();
const grid = document.querySelector('.grid');

const messages = Array.from({length:21},(_,i)=>`Day ${i+1} ‚ù§Ô∏è This moment belongs only to us.`);

function typeText(el,text){
  el.textContent='';
  el.classList.add('typing');
  let i=0;
  const t=setInterval(()=>{
    el.textContent+=text[i++];
    if(i===text.length){
      clearInterval(t);
      el.classList.remove('typing');
    }
  },40);
}

for(let i=1;i<=21;i++){
  const card=document.createElement('div');
  card.className='card';

  if(i>today) card.classList.add('locked');
  if(i===21) card.classList.add('finale');

  card.innerHTML=`
    <div class="inner">
      <div class="front">
        <img src="day${i}.jpg">
        ${i>today?'<div class="lock">üîí</div>':''}
      </div>
      <div class="back"><p></p></div>
    </div>
  `;

  card.onclick=()=>{
    if(card.classList.contains('locked')){
      card.classList.add('shake');
      setTimeout(()=>card.classList.remove('shake'),450);
      return;
    }

    if(i===21){
      card.classList.add('fullscreen');
    }

    if(!card.classList.contains('flip')){
      card.classList.add('unlocking');
      setTimeout(()=>card.classList.remove('unlocking'),1200);
    }

    card.classList.toggle('flip');
    const p=card.querySelector('p');
    if(!p.textContent) typeText(p,messages[i-1]);
  };

  grid.appendChild(card);
}

/* hearts spawn */
const box=document.querySelector('.heart-shower');
for(let i=0;i<60;i++){
  const h=document.createElement('div');
  h.className='heart';
  h.style.setProperty('--x',Math.random());
  h.style.animationDuration=10+Math.random()*10+'s';
  h.style.animationDelay=Math.random()*5+'s';
  box.appendChild(h);
}
</script>

</body>
</html>
